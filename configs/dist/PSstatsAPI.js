!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.PSstatsAPI=t():e.PSstatsAPI=t()}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n;Array.prototype.some||(Array.prototype.some=function(e,t){"use strict";if(null==this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!=typeof e)throw new TypeError;for(var r=Object(this),n=r.length>>>0,a=0;a<n;a++)if(a in r&&e.call(t,r[a],a,r))return!0;return!1}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw TypeError('"this" is null or not defined');var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw TypeError("predicate must be a function");for(var n=arguments[1],a=0;a<r;){var o=t[a];if(e.call(n,o,a,t))return o;a++}},configurable:!0,writable:!0}),Function.prototype.bind||(n=Array.prototype.slice,Function.prototype.bind=function(){var e=this,t=arguments[0],r=n.call(arguments,1);if("function"!=typeof e)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");return function(){var a=r.concat(n.call(arguments));return e.apply(t,a)}}),Object.keys||(Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],a=n.length;return function(o){if("function"!=typeof o&&("object"!==r(o)||null===o))throw new TypeError("Object.keys called on non-object");var i,c,s=[];for(i in o)e.call(o,i)&&s.push(i);if(t)for(c=0;c<a;c++)e.call(o,n[c])&&s.push(n[c]);return s}}())},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return Jt}));var n={};r.r(n),r.d(n,"ADMIN_LOGIN_COUNT",(function(){return s})),r.d(n,"WOP_LOGIN_COUNT",(function(){return u})),r.d(n,"CHAT_START_CHAT_FORM_OPEN_COUNT",(function(){return l})),r.d(n,"CHAT_LEAVE_MESSAGE_FORM_OPEN_COUNT",(function(){return f})),r.d(n,"CHAT_START_CHAT_FORM_OPEN_COUNT_BY_URL",(function(){return p})),r.d(n,"CHAT_LEAVE_MESSAGE_FORM_OPEN_COUNT_BY_URL",(function(){return d})),r.d(n,"CHAT_START_CHAT_FORM_SUBMIT_COUNT",(function(){return m})),r.d(n,"CHAT_OFFLINE_MESSAGE_COUNT",(function(){return h})),r.d(n,"CHAT_INVITATION_SENT_COUNT_PER_ACCOUNT",(function(){return v})),r.d(n,"CHAT_INVITATION_SENT_COUNT_PER_OPERATOR",(function(){return T})),r.d(n,"CHAT_INVITATION_SENT_COUNT_PER_DEPARTMENT",(function(){return _})),r.d(n,"CHAT_INVITATION_ACCEPT_COUNT_PER_ACCOUNT",(function(){return y})),r.d(n,"CHAT_INVITATION_ACCEPT_COUNT_PER_OPERATOR",(function(){return O})),r.d(n,"CHAT_INVITATION_ACCEPT_COUNT_PER_DEPARTMENT",(function(){return E})),r.d(n,"CHAT_INVITATION_DECLINE_COUNT_PER_ACCOUNT",(function(){return C})),r.d(n,"CHAT_INVITATION_DECLINE_COUNT_PER_OPERATOR",(function(){return P})),r.d(n,"CHAT_INVITATION_DECLINE_COUNT_PER_DEPARTMENT",(function(){return g})),r.d(n,"CHAT_START_CHAT_FORM_FILLOUT_TIME",(function(){return A})),r.d(n,"CHAT_LEAVE_MESSAGE_FORM_FILLOUT_TIME",(function(){return S})),r.d(n,"CHAT_CHATS_PER_ACCOUNT",(function(){return R})),r.d(n,"CHAT_CHATS_PER_OPERATOR",(function(){return b})),r.d(n,"CHAT_CHATS_PER_DEPARTMENT",(function(){return N})),r.d(n,"CHAT_ACCEPTED_CHATS_PER_ACCOUNT",(function(){return D})),r.d(n,"CHAT_ACCEPTED_CHATS_PER_OPERATOR",(function(){return M})),r.d(n,"CHAT_ACCEPTED_CHATS_PER_DEPARTMENT",(function(){return I})),r.d(n,"CHAT_MISSED_CALLS_PER_ACCOUNT",(function(){return w})),r.d(n,"CHAT_MISSED_CALLS_PER_OPERATOR",(function(){return j})),r.d(n,"CHAT_MISSED_CALLS_PER_DEPARTMENT",(function(){return H})),r.d(n,"CHAT_VISITOR_MESSAGES_COUNT_PER_CHAT",(function(){return L})),r.d(n,"CHAT_VISITOR_RESPONSE_TIME",(function(){return U})),r.d(n,"CHAT_ALL_OPERATORS_MESSAGES_COUNT_PER_CHAT",(function(){return F})),r.d(n,"CHAT_OPERATOR_MESSAGES_COUNT_PER_CHAT_PER_OPERATOR",(function(){return k})),r.d(n,"CHAT_OPERATOR_MESSAGES_COUNT_PER_CHAT_PER_DEPARTMENT",(function(){return q})),r.d(n,"CHAT_OPERATOR_INVITATION_SENT_COUNT_PER_OPERATOR",(function(){return B})),r.d(n,"CHAT_OPERATOR_INVITATION_RECEIVED_COUNT_PER_OPERATOR",(function(){return G})),r.d(n,"CHAT_OPERATOR_CALLING_COUNT_PER_OPERATOR",(function(){return V})),r.d(n,"CHAT_OPERATOR_CALLED_COUNT_PER_OPERATOR",(function(){return W})),r.d(n,"CHAT_OPERATOR_RESPONSE_TIME_PER_ACCOUNT",(function(){return J})),r.d(n,"CHAT_OPERATOR_RESPONSE_TIME_PER_DEPARTMENT",(function(){return x})),r.d(n,"CHAT_OPERATOR_RESPONSE_TIME_PER_OPERATOR",(function(){return Y})),r.d(n,"CHAT_ACCEPT_CHAT_DELAY_PER_ACCOUNT",(function(){return K})),r.d(n,"CHAT_ACCEPT_CHAT_DELAY_PER_OPERATOR",(function(){return Z})),r.d(n,"CHAT_ACCEPT_CHAT_DELAY_PER_DEPARTMENT",(function(){return z})),r.d(n,"CHAT_AWAY_TIME_PER_OPERATOR",(function(){return $})),r.d(n,"CHAT_ONLINE_TIME_PER_ACCOUNT",(function(){return Q})),r.d(n,"CHAT_ONLINE_TIME_PER_OPERATOR",(function(){return X})),r.d(n,"CHAT_ONLINE_TIME_PER_DEPARTMENT",(function(){return ee})),r.d(n,"CHAT_PCS_PROFICIENCY_PER_ACCOUNT",(function(){return te})),r.d(n,"CHAT_PCS_POLITENESS_PER_ACCOUNT",(function(){return re})),r.d(n,"CHAT_PCS_CASE_SOLVED_COUNT_PER_ACCOUNT",(function(){return ne})),r.d(n,"CHAT_PCS_CASE_NOT_SOLVED_COUNT_PER_ACCOUNT",(function(){return ae})),r.d(n,"CHAT_PCS_CONTENTED_COUNT_PER_ACCOUNT",(function(){return oe})),r.d(n,"CHAT_PCS_NOT_CONTENTED_COUNT_PER_ACCOUNT",(function(){return ie})),r.d(n,"CHAT_PCS_PROFICIENCY_PER_OPERATOR",(function(){return ce})),r.d(n,"CHAT_PCS_POLITENESS_PER_OPERATOR",(function(){return se})),r.d(n,"CHAT_PCS_CASE_SOLVED_COUNT_PER_OPERATOR",(function(){return ue})),r.d(n,"CHAT_PCS_CASE_NOT_SOLVED_COUNT_PER_OPERATOR",(function(){return le})),r.d(n,"CHAT_PCS_CONTENTED_COUNT_PER_OPERATOR",(function(){return fe})),r.d(n,"CHAT_PCS_NOT_CONTENTED_COUNT_PER_OPERATOR",(function(){return pe})),r.d(n,"CHAT_PCS_PROFICIENCY_PER_DEPARTMENT",(function(){return de})),r.d(n,"CHAT_PCS_POLITENESS_PER_DEPARTMENT",(function(){return me})),r.d(n,"CHAT_PCS_CASE_SOLVED_COUNT_PER_DEPARTMENT",(function(){return he})),r.d(n,"CHAT_PCS_CASE_NOT_SOLVED_COUNT_PER_DEPARTMENT",(function(){return ve})),r.d(n,"CHAT_PCS_CONTENTED_COUNT_PER_DEPARTMENT",(function(){return Te})),r.d(n,"CHAT_PCS_NOT_CONTENTED_COUNT_PER_DEPARTMENT",(function(){return _e})),r.d(n,"CHAT_ACCEPTANCE_RATE",(function(){return ye})),r.d(n,"CHAT_ACCEPTANCE_RATE_PER_OPERATOR",(function(){return Oe})),r.d(n,"CHAT_ACCEPTANCE_RATE_PER_DEPARTMENT",(function(){return Ee})),r.d(n,"CHAT_PROACTIVE_ACCEPTANCE_RATE",(function(){return Ce})),r.d(n,"CHAT_PRE_CHAT_SURVEY_CLICK_TROUGH_RATE",(function(){return Pe})),r.d(n,"CHAT_OFFLINE_FORM_CLICK_TROUGH_RATE",(function(){return ge})),r.d(n,"CHAT_OPERATOR_LOAD_RATE",(function(){return Ae})),r.d(n,"CHAT_DEPARTMENT_LOAD_RATE",(function(){return Se})),r.d(n,"WEBSITE_HITS_PER_VISITOR",(function(){return Re})),r.d(n,"WEBSITE_HITS_BY_URL",(function(){return be})),r.d(n,"WEBSITE_VISITORS_BY_REFERRER_URL",(function(){return Ne})),r.d(n,"getLevelNameByMetricName",(function(){return De})),r.d(n,"isRatesByStatsPeriod",(function(){return Me}));r(0);var a="No statistics for this metric!",o="Not enough statistics to calculate this metric!",i="account",c="operators",s="admin/login-count",u="wop/login-count",l="chat/start-chat-form-open-count",f="chat/leave-message-form-open-count",p="chat/start-chat-form-open-count-by-url",d="chat/leave-message-form-open-count-by-url",m="chat/start-chat-form-submit-count",h="chat/offline-messages-count",v="chat/invitation-sent-count-per-account",T="chat/invitation-sent-count-per-operator",_="chat/invitation-sent-count-per-department",y="chat/invitation-accept-count-per-account",O="chat/invitation-accept-count-per-operator",E="chat/invitation-accept-count-per-department",C="chat/invitation-decline-count-per-account",P="chat/invitation-decline-count-per-operator",g="chat/invitation-decline-count-per-department",A="chat/start-chat-form-fillout-time",S="chat/leave-message-form-fillout-time",R="chat/chats-per-account",b="chat/chats-per-operator",N="chat/chats-per-department",D="chat/accepted-chats-per-account",M="chat/accepted-chats-per-operator",I="chat/accepted-chats-per-department",w="chat/missed-calls-per-account",j="chat/missed-calls-per-operator",H="chat/missed-calls-per-department",L="chat/visitor-messages-count-per-chat",U="chat/visitor-response-time",F="chat/all-operators-messages-count-per-chat",k="chat/operator-messages-count-per-chat-per-operator",q="chat/operator-messages-count-per-chat-per-department",B="chat/operator-invitation-sent-count-per-operator",G="chat/operator-invitation-received-count-per-operator",V="chat/operator-calling-count-per-operator",W="chat/operator-called-count-per-operator",J="chat/operator-response-time-per-account",x="chat/operator-response-time-per-department",Y="chat/operator-response-time-per-operator",K="chat/accept-chat-delay-per-account",Z="chat/accept-chat-delay-per-operator",z="chat/accept-chat-delay-per-department",$="chat/away-time-per-operator",Q="chat/online-time-per-account",X="chat/online-time-per-operator",ee="chat/online-time-per-department",te="chat/pcs-proficiency-per-account",re="chat/pcs-politeness-per-account",ne="chat/pcs-case-solved-count-per-account",ae="chat/pcs-case-not-solved-count-per-account",oe="chat/pcs-contented-count-per-account",ie="chat/pcs-not-contented-count-per-account",ce="chat/pcs-proficiency-per-operator",se="chat/pcs-politeness-per-operator",ue="chat/pcs-case-solved-count-per-operator",le="chat/pcs-case-not-solved-count-per-operator",fe="chat/pcs-contented-count-per-operator",pe="chat/pcs-not-contented-count-per-operator",de="chat/pcs-proficiency-per-department",me="chat/pcs-politeness-per-department",he="chat/pcs-case-solved-count-per-department",ve="chat/pcs-case-not-solved-count-per-department",Te="chat/pcs-contented-count-per-department",_e="chat/pcs-not-contented-count-per-department",ye="chat/acceptance-rate",Oe="chat/acceptance-rate-per-operator",Ee="chat/acceptance-rate-per-department",Ce="chat/proactive-acceptance-rate",Pe="chat/pre-chat-survey-click-trough-rate",ge="chat/offline-form-click-trough-rate",Ae="chat/operator-load-rate",Se="chat/department-load-rate",Re="website/hits-per-visitor",be="website/hits-by-url",Ne="website/visitors-by-referrer-url";function De(e){return e===F?i:e===q?"departments":e===F?i:~e.indexOf("operator")?c:~e.indexOf("department")?"departments":i}function Me(e){return-1!==[ye,Ce,Pe,ge].indexOf(e)}var Ie="0123456789012345678901234567890123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function we(e){for(var t="",r=e;r--;)t+=Ie[Math.floor(Math.random()*Ie.length)];return t}function je(e){return"string"==typeof e}var He="metrics",Le="total";function Ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(r),!0).forEach((function(t){qe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ke(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ke(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ke(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Be(e){var t=Math.floor(e%60),r=Math.floor((e%3600-t)/60),n=Math.floor(e%86400/3600),a=Math.floor(e%2628e3/86400),o=Math.floor(e%31536e3/2628e3),i=Math.floor((e-e%31536e3)/31536e3);return((i?"".concat(i,"y "):"")+(o?"".concat(o,"m "):"")+(a?"".concat(a,"d "):"")+(n?"".concat(n,"h "):"")+(r?"".concat(r,"m "):"")+(t?"".concat(t,"s"):"")).trim()||"0s"}function Ge(e,t){var r,n=[A,S,K,Z,z,$,Q,X,ee];for(var a in e)if(-1!==n.indexOf(a))for(var o=t.areCustomMetrics&&!Array.isArray(e[a]),i=t.level||o,c=i?Object.keys(e[a]):e[a],s=0;s<c.length;s++)if(i){if(!t.areCustomMetrics&&Array.isArray(e[a])){r=Object.keys(e[a][s])[0],e[a][s][r].average=[e[a][s][r].average,Be(e[a][s][r].average)],e[a][s][r][Le]=[e[a][s][r][Le],Be(e[a][s][r][Le])];continue}for(var u=e[a][c[s]],l=0;l<u.length;l++)r=Object.keys(u[l])[0],u[l][r].average=[u[l][r].average,Be(u[l][r].average)],u[l][r][Le]=[u[l][r][Le],Be(u[l][r][Le])]}else r=Object.keys(e[a][s])[0],e[a][s][r].average=[e[a][s][r].average,Be(e[a][s][r].average)],e[a][s][r][Le]=[e[a][s][r][Le],Be(e[a][s][r][Le])]}function Ve(e){if(Qe(e,"LEVEL"),je(e)){if(e===i)return qe({},e,[]);if(e===c)return qe({},e,[]);if("departments"===e)return qe({},e,[])}if(Array.isArray(e)){var t={};return~e.indexOf(i)&&(t[i]=[]),~e.indexOf(c)&&(t[c]=[]),~e.indexOf("departments")&&(t.departments=[]),t}return e[i]&&je(e[i])&&(e[i]=[e[i]]),e[c]&&je(e[c])&&(e[c]=[e[c]]),e.departments&&je(e.departments)&&(e.departments=[e.departments]),e}function We(e,t){var r=[];return Object.keys(e).forEach((function(n){e[n]&&(n===i?r.push(t[0]):n===c?r.push(t[1]):"departments"===n&&r.push(t[2]))})),r}function Je(e,t,r){var n,o=Object.keys(t);if(!r){for(var i=0;i<o.length;i++)(n=t[o[i]])&&(e[n]||(e[n]=a));return e}for(var c in e)for(var s in e[c])for(var u=0;u<o.length;u++){if("string"==typeof o[0])n=t[o[u]],e[c][s][n]||(e[c][s][n]=a);else for(var l=0;l<o[u].length;l++)n=t[o[u][l]],e[c][s][n]||(e[c][s][n]=a)}return e}function xe(e,t,r,n){!e[t]||e[t]===a||e[t]===o||(e[t]=n?[e[t][r],Be(e[t][r])]:e[t][r])}function Ye(e,t,r,n){var i,c,s;if(!(void 0===e||e===a||e===o)){r&&(e[Le]=n?[e[Le],Be(e[Le])]:{total:[e[Le][Le],Be(e[Le][Le])],average:[e[Le].average,Be(e[Le].average)]});for(var u=0;u<e.timeline.length;u++)s={},c=e.timeline[u],s[i=Object.keys(c)[0]]=r?[c[i][t],Be(c[i][t])]:c[i][t],e.timeline[u]=s}}function Ke(e){var t=!0;for(var r in e)$e(e[r])||(t=!1);if(!t)throw new TypeError("".concat("Object 'level' argument must contain keys.\nKey must be 'account', 'operators' or 'departments'!\nValue of key must be an array of non-empty strings!\nSpecified argument: ").concat(JSON.stringify(e)))}function Ze(e,t){throw new TypeError("Supplied argument is not ".concat(t,"!\nSpecified argument: ").concat(JSON.stringify(e)))}var ze={DATE:function(e){var t=new Date(e);if(Number.isNaN(t))throw new TypeError("Invalid Date argument: ".concat(JSON.stringify(e),"\n")+"You can pass date string or timestamp (number of milliseconds passed after the Jan 1st of 1970 UTC+0)\nE.g. '01-06-2019 21:31:48', '23-12-2000 01:23:07', 997411990000\nMore about possible argument formats: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/Date")},OBJECT:function(e){"object"===ke(e)||Ze(e,"object")},ARRAY:function(e){Array.isArray(e)||Ze(e,"array")},FUNCTION:function(e){var t="function"==typeof e;return t||Ze(e,"function"),t},STRING:function(e){je(e)||Ze(e,"string")},LEVEL:function(e){if("object"===ke(e))Ke(e);else if(je(e)){if(!(e===c||"departments"===e||e===i))throw new TypeError("String 'level' argument must be one of these values: 'account', 'operators' or 'departments'!\n"+"Specified argument: ".concat(JSON.stringify(e)))}else{if(!Array.isArray(e))throw new TypeError("Supplied argument is not an object, nor a string!\nSpecified argument: "+"".concat(JSON.stringify(e)));var t=!0;if(e.forEach((function(e){e!==c&&"departments"!==e&&e!==i&&(t=!1)})),!t)throw new TypeError("Array \"level\" argument should only contain the strings: 'account', 'operators' or 'departments'!\n"+"Specified argument: ".concat(JSON.stringify(e)))}},SIMPLIFIED_LEVEL:function(e){if("object"===ke(e))Ke(e);else{if(!je(e))throw new TypeError("Supplied argument is not an object, nor a string!\n"+"Specified argument: ".concat(JSON.stringify(e)));if(!(e===c))throw new TypeError("String 'simplified level' argument must be one of these values: 'operators'!\n"+"Specified argument: ".concat(JSON.stringify(e)))}}};function $e(e){return Array.isArray(e)?!e.some((function(e){return!(je(e)&&e)})):je(e)&&e}function Qe(e,t){if(!Array.isArray(t)){if("function"!=typeof ze[t])throw new TypeError("No validator for ".concat(JSON.stringify(t)," type!"));return ze[t](e)}if(!t.some((function(t){return t===e})))throw new TypeError("".concat("Supplied argument is not one of the allowed values!\nSpecified argument: ").concat(JSON.stringify(e),"\n")+"Array of the allowed values: ".concat(JSON.stringify(t,null,2)))}function Xe(e){Qe(e,"OBJECT"),Qe(e.duration,["hour","day","week","month","year"]),Qe(e.startDate,"DATE"),Qe(e.endDate,"DATE");var t=new Date(e.startDate),r=new Date(e.endDate);if(r.getTime()-t.getTime()<0)throw TypeError("startDate must be less than endDate!\nSupplied startDate: ".concat(t,"\nSupplied endDate: ").concat(r));e.startDate=et(t,!0),e.endDate=et(r,!0)}function et(e,t){var r=new Date(e),n=t?" ":"-",a=r.getDate();a<10&&(a="0".concat(a));var o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][r.getMonth()],i=r.getFullYear(),c=r.toTimeString().slice(0,8);return"".concat(a+n+o+n+i," ").concat(c)}function tt(e){return"string"==typeof e?qe({},e,""):Array.isArray(e)?e.reduce((function(e,t){return Object.assign(e,tt(t))}),{}):e}function rt(e){var t={};return e.forEach((function(e){var r=e.metrics;return t=Fe(Fe({},t),r)})),Object.keys(t).join()}function nt(e){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function at(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?at(Object(r),!0).forEach((function(t){it(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):at(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function it(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==nt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==nt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===nt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ct(e,t){var r=t.level,n=t.metricKeys,a={};r||(a=e);var o=function(t){return r[t]?Array.isArray(r[t])&&r[t].length>0?(r[t].forEach((function(r){a[t]||(a[t]={}),a[t][r]=e[t][r]||"No statistics for this operator/department!"})),"continue"):void(a[t]=e[t]||"No statistics for this operator/department!"):"continue"};for(var c in r)o(c);return a[i]&&(a[i][i]&&(a[i]=a[i][i]),a[i][void 0]&&(a[i]=a[i][void 0])),r||1!==Object.keys(n).length||(a=a[Object.keys(a)[0]]),a}function st(e,t,r){var n=(r-t)/1e3-e;return n>0?Math.round(n):0}function ut(e){var t=e.statisticsPool.accounts[0],r=t.metricRatesPool,n=t.metricTypes,a={};return r&&r.forEach((function(e){e=function(e){var t;return Me(e.mn)?(e.mrByTgs=[(t={},it(t,"t",e.t),it(t,"values",e.mrByStPer),t)],delete e.t,delete e.mrByStPer,e):e}(e),a[e.mn]=function e(t){void 0!==t.tg1&&(t.tg=t.tg1,delete t.tg1);void 0!==t.t&&(t[Le]=lt(t.t),delete t.t);void 0!==t.mrByStPer&&(t.values=t.mrByStPer,delete t.mrByStPer);void 0!==t.values&&t.values.forEach((function(e,r){void 0!==e.v&&(t.values[r].c=lt(e.v),delete t.values[r].v)}));void 0!==t.mrByTgs&&(t[He]=t.mrByTgs,delete t.mrByTgs,t[He].forEach((function(r,n){t[He][n]=e(r)})));return t}(e)})),n&&n.forEach((function(e){void 0!==e.mu&&(e.m="multiple"===e.mu,delete e.mu),a[e.mn]=e})),a}function lt(e){return"".concat(Math.round(100*e),"%")}function ft(e,t){return e.find((function(e){return e.i===t}))}function pt(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return dt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dt(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}function dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mt(e,t,r,n,i){var c,s,u,l,f,p,d,m,h,v,T,_,y,O,E,C,P="".concat(r.timePeriod.startDate.replace(/-/g," ")," GMT-4"),g="".concat(r.timePeriod.endDate.replace(/-/g," ")," GMT-4"),A=(Date.parse(g)-Date.parse(P))/1e3;switch(i&&(c=i.indexOf("\n")),e.type){case"OP_LOGIN":t[n][i][e.name]=i.slice(c+1);break;case"OP_NAME":t[n][i][e.name]=i.slice(0,c);break;case"OFFLINE_TIME":t[n][i].onlineTime===a?t[n][i][e.name]=o:(h=(h=t[n][i].awayTime)&&h!==a?h[Le]:0,p=Math.ceil(A-t[n][i].onlineTime[Le]-h),t[n][i][e.name]={total:p>0?p:0});break;case"OFFLINE_TIME_BY_PERIODS":if(t[n][i].onlineTime===a)t[n][i][e.name]=o;else{if(v={},(h=t[n][i].awayTime)&&h!==a)for(var S=0;S<h.timeline.length;S++)v[T=Object.keys(h.timeline[S])[0]]=h.timeline[S][T][Le];t[n][i][e.name]={total:0,timeline:[]};var R,b=pt(t[n][i].onlineTime.timeline);try{for(b.s();!(R=b.n()).done;){d=R.value;var N={};h=void 0===v[f=Object.keys(d)[0]]?0:v[f],m=f.split(" - "),P="".concat(m[0].replace(/-/g," ")," GMT-4"),g="".concat(m[1].replace(/-/g," ")," GMT-4"),p=(A=(Date.parse(g)-Date.parse(P))/1e3)-d[f][Le]-h,N[f]={total:p>0?Math.round(p):0},t[n][i][e.name][Le]+=N[f][Le],t[n][i][e.name].timeline.push(N)}}catch(e){b.e(e)}finally{b.f()}}break;case"LOAD_RATE":t[n][i].chatsAccepted===a?t[n][i][e.name]=o:(l=t[n][i].chatsAccepted/r.totalChatsAccepted*100,t[n][i][e.name]="".concat(Math.round(l),"%"));break;case"LOAD_RATE_BY_PERIODS":if(t[n][i].chatsAccepted===a)t[n][i][e.name]=o;else{t[n][i][e.name]={total:0,timeline:[]};var D,M=pt(t[n][i].chatsAccepted.timeline);try{for(M.s();!(D=M.n()).done;){d=D.value;var I={};l=d[f=Object.keys(d)[0]]/r.totalChatsAccepted[f]*100,I[f]="".concat(Math.round(l),"%"),t[n][i][e.name][Le]+=Math.round(l),t[n][i][e.name].timeline.push(I)}}catch(e){M.e(e)}finally{M.f()}C=t[n][i][e.name][Le]/t[n][i][e.name].timeline.length,t[n][i][e.name][Le]="".concat(Math.round(C),"%")}break;case"TIMELINE":if(_=t[e.propsToCalculate[0]],y=t[e.propsToCalculate[1]],_===a||y===a){t[e.name]=o;break}t[e.name]={total:"".concat(Math.round(y.total/(_.total/100)),"%"),timeline:[]};for(var w=0;w<_.timeline.length;w++){var j={},H=_.timeline[w];s=Object.keys(H)[0];var L=y.timeline.find((function(e){return Object.keys(e)[0]===s}));u=L&&Object.keys(L)[0],j[s]=u?"".concat(Math.round(L[u]/(H[s]/100)),"%"):"0%",t[e.name].timeline.push(j)}break;case"TIMELINE_BY_PERIODS":for(T in O=Object.keys(t)[0],E=1===Object.keys(t).length?t[O]:t)if(_=E[T][e.propsToCalculate[0]],y=E[T][e.propsToCalculate[1]],_!==a&&y!==a){E[T][e.name]={total:"".concat(Math.round(y.total/(_.total/100)),"%"),timeline:[]};for(var U=0;U<_.timeline.length;U++){var F={},k=_.timeline[U];s=Object.keys(k)[0];var q=y.timeline.find((function(e){return Object.keys(e)[0]===s}));u=q&&Object.keys(q)[0],F[s]=u?"".concat(Math.round(q[u]/(k[s]/100)),"%"):"0%",E[T][e.name].timeline.push(F)}}else E[T][e.name]=o;break;default:throw new Error("Failed to define handler for custom metric type! Type: ".concat(e.type))}}function ht(e,t){return t.customMetrics.forEach((function(r){for(var n in e)for(var i in e[n])if(r.type)mt(r,e,t,n,i);else{var c=e[n][i][r.propsToCalculate[0]],s=e[n][i][r.propsToCalculate[1]],u=void 0!==c&&c!==a&&void 0!==s&&s!==a;e[n][i][r.name]=u?"".concat(Math.round(s/(c/100)),"%"):o}})),e}function vt(e){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _t(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(r),!0).forEach((function(t){Et(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function yt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],s=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){u=!0,a=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ot(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ot(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Et(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==vt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==vt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===vt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ct(e,t,r){var n=e.statisticsPool.statsPeriods,a=function(e,t,r){var n=[];return t.forEach((function(t){var a=t.metrics,o=t.opts,i={};for(var c in a)e[c]&&(i[c]=ot(ot({},e[c]),{},{metricNameInResponse:a[c]?a[c]:c}));n.push({metrics:i,opts:ot(ot(ot({},r),o),{},{metricKeys:a})})})),n}(ut(e),t,r),o=[];return a.forEach((function(e){var t=e.metrics,r=e.opts,a=r.level,i=r.postParser,c=r.customParser,s=r.metricKeys;if(c){var u=c({metrics:t,statsPeriods:n,opts:r});o.push(u)}else{var l=Pt({metrics:t,statsPeriods:n,opts:r});if(i&&i(l,r),a)for(var f in l){l[De(f)]=l[f],delete l[f]}Je(l=ct(l,r),s),o.push(l)}})),1===a.length&&(o=o[0]),o}function Pt(e){var t=e.metrics,r=e.statsPeriods,n=e.opts,a=n.isShouldAddTotals,o=n.isShouldAddMetricTotals,i={};for(var c in t){var s=t[c],u=s.metricNameInResponse;"counter"===s.cv?s.m?i[u]=gt(s,r,a,o):i[u]=At(s[He][0],r,a):s.m?i[u]=St(s,r,n,a,o):i[u]=Rt(s[He][0],r,n,a)}return i}function gt(e,t,r,n){var a={};return e[He].forEach((function(e){var o=e.tg;a[o]=At(e,t,r),n&&(a["~total"]=(a["~total"]||0)+a[o].total)})),a}function At(e,t,r){if(e){var n=[];return e.counters.forEach((function(e){var r=ft(t,e.p);n.push(Et({},"".concat(r.sd," - ").concat(r.ed),e.c))})),r?{total:e[Le],timeline:n}:n}}function St(e,t,r,n,a){var o={};return e[He].forEach((function(e){var i=e.tg;o[i]=Rt(e,t,r,n),a&&(o["~total"]||(o["~total"]={average:e.totals.av,total:e.totals.vs}),o[i].total&&(o["~total"].average+=o[i].total.average,o["~total"].total+=o[i].total.total))})),o}function Rt(e,t,r,n){var a;if(e)return a=n?{total:void 0!==e[Le]?e[Le]:{average:e.totals.av,total:e.totals.vs},timeline:[]}:[],e.values.forEach((function(e){var o=ft(t,e.p),i={},c="".concat(o.sd," - ").concat(o.ed);if(r.reverse){var s=st(e.vs,o.st,o.et);i[c]={average:s/(e.vs/e.av),total:s}}else i[c]=e.c||{average:e.av,total:e.vs};n?a.timeline.push(i):a.push(i)})),a}function bt(e){var t=e.metrics,r=e.opts,n={};return n=function(e){if(!e)return{};var t={},r=function(){var r=e[n],a=r.metricNameInResponse,o=De(r.mn);t[o]||(t[o]={}),r[He].forEach((function(e){var r=e.tg||i;t[o][r]||(t[o][r]={}),t[o][r][a]=void 0!==e[Le]?e[Le]:Et({average:e.totals.av},Le,e.totals.vs)}))};for(var n in e)r();return t}(t),r.customMetrics&&ht(n,r),ct(n=Je(n,r.metricKeys,!0),r)}function Nt(e){var t=e.metrics,r=e.opts,n={};return n=function(e){if(!e)return{};var t={},r=function(){var r=e[n],a=r.metricNameInResponse;r[He].forEach((function(e){"Page URL"===r.tt?(t[a]||(t[a]={}),t[a][e.tg]=e[Le]):(t[a]||(t[a]={}),t[a]=void 0!==e[Le]?e[Le]:Et({average:e.totals.av},Le,e.totals.vs))}))};for(var n in e)r();return t}(t),r.customMetrics&&(n=ht(n,r)),n=Je(n,r.metricKeys)}function Dt(e){var t=e.metrics,r=Nt({metrics:t,statsPeriods:e.statsPeriods,opts:e.opts});r.visitsByReferrer={};for(var n=t["website/visitors-by-referrer-url"][He],a=0;a<n.length;a++){var o=n[a].tg;r.visitsByReferrer[o]=n[a][Le]}return r}function Mt(e){var t=e.metrics,r=e.statsPeriods,n=e.opts,i=Nt({metrics:t,statsPeriods:r,opts:n}),c="".concat(n.timePeriod.startDate.replace(/-/g," ")," GMT-4"),s="".concat(n.timePeriod.endDate.replace(/-/g," ")," GMT-4"),u=(Date.parse(s)-Date.parse(c))/1e3,l=u/60/60/24,f=u/60/60;if(i["onlinePresence-chatOnlineTime"]===a)i["onlinePresence-chatOfflineTime"]=o;else{var p=Math.ceil(u-i["onlinePresence-chatOnlineTime"][Le]);i["onlinePresence-chatOfflineTime"]={total:p>0?p:0},xe(i,"onlinePresence-chatOfflineTime",Le,!0)}for(var d in xe(i,"onlinePresence-chatOnlineTime",Le,!0),xe(i,"averages-chatAcceptTime","average",!0),xe(i,"averages-preChatSurveyFilloutTime","average",!0),xe(i,"averages-offlineFormFilloutTime","average",!0),xe(i,"averages-operatorMessagesPerChat","average"),xe(i,"averages-visitorMessagesPerChat","average"),xe(i,"averages-operatorResponseTime","average",!0),xe(i,"averages-visitorResponseTime","average",!0),i["chats-sent"]===a?i["averages-incomingChatsPerDay"]=o:i["averages-incomingChatsPerDay"]=i["chats-sent"]/l,i["chats-sent"]===a?i["averages-incomingChatsPerHour"]=o:i["averages-incomingChatsPerHour"]=i["chats-sent"]/f,i["chats-accepted"]===a?i["averages-acceptedChatsPerDay"]=o:i["averages-acceptedChatsPerDay"]=i["chats-accepted"]/l,i["chats-accepted"]===a?i["averages-acceptedChatsPerHour"]=o:i["averages-acceptedChatsPerHour"]=i["chats-accepted"]/f,i){var m=d.split("-");i[m[0]]||(i[m[0]]={}),i[m[0]][m[1]]=i[d],delete i[d]}return i}function It(e){var t,r,n,i,c,s,u,l,f=e.metrics,p=e.statsPeriods,d=e.opts,m=0,h=Pt({metrics:f,statsPeriods:p,opts:d});if(Je(h,d.metricKeys),d.customMetrics&&ht(h,d),h["onlinePresence-chatOnlineTime"]===a)h["onlinePresence-chatOfflineTime"]=o;else{h["onlinePresence-chatOfflineTime"]={total:0,timeline:[]};for(var v=0;v<h["onlinePresence-chatOnlineTime"].timeline.length;v++)l={},r=h["onlinePresence-chatOnlineTime"].timeline[v],n=(t=Object.keys(r)[0]).split(" - "),i="".concat(n[0].replace(/-/g," ")," GMT-4"),c="".concat(n[1].replace(/-/g," ")," GMT-4"),s=(Date.parse(c)-Date.parse(i))/1e3,m+=(u=Math.ceil(s-r[t][Le]))>0?u:0,l[t]={total:u>0?u:0},h["onlinePresence-chatOfflineTime"].timeline.push(l);h["onlinePresence-chatOfflineTime"][Le]=m,Ye(h["onlinePresence-chatOfflineTime"],Le,!0,!0)}for(var T in Ye(h["onlinePresence-chatOnlineTime"],Le,!0),Ye(h["averages-chatAcceptTime"],"average",!0),Ye(h["averages-preChatSurveyFilloutTime"],"average",!0),Ye(h["averages-offlineFormFilloutTime"],"average",!0),Ye(h["averages-operatorMessagesPerChat"],"average"),Ye(h["averages-visitorMessagesPerChat"],"average"),Ye(h["averages-operatorResponseTime"],"average",!0),Ye(h["averages-visitorResponseTime"],"average",!0),h){var _=T.split("-");h[_[0]]||(h[_[0]]={}),h[_[0]][_[1]]=h[T],delete h[T]}return h}function wt(e){var t=e.metrics,r=e.opts,n=yt(function(e){if(!e)return{};var t=0,r={};for(var n in e)for(var a=e[n],o=a.metricNameInResponse,i=a[He],c=0;c<i.length;c++){var s=i[c],u=s.tg;r[u]||(r[u]={}),"chatsAccepted"===o&&(t+=s[Le]),r[u][o]=void 0!==s[Le]?s[Le]:Et({average:s.totals.av},Le,s.totals.vs)}return[r,t]}(t),2),a=n[0],o=n[1];for(var i in Je(a={level:a},r.metricKeys,!0),ht(a,{timePeriod:r.timePeriod,totalChatsAccepted:o,customMetrics:r.customMetrics}),a=a.level)xe(a[i],"onlineTime",Le,!0),xe(a[i],"offlineTime",Le,!0),xe(a[i],"awayTime",Le,!0),xe(a[i],"chatAcceptTime","average",!0);return a}function jt(e){var t=e.metrics,r=e.statsPeriods,n=e.opts,a=Object.keys(t).reduce((function(e,a){var o=t[a];return"chatsAccepted"!==n.metricKeys[o.mn]||o[He].forEach((function(t){t.counters.forEach((function(t){var n=ft(r,t.p),a="".concat(n.sd," - ").concat(n.ed);e[a]||(e[a]=0),e[a]+=t.c}))})),e}),{}),o=function(e,t,r){if(!t)return{};var n=Pt({metrics:t,statsPeriods:r,opts:e}),a={};for(var o in n)for(var i in n[o])a[i]||(a[i]={}),a[i][o]=n[o][i];return a}(n,t,r);for(var i in Je(o={level:o},n.metricKeys,!0),ht({level:o.level},{timePeriod:n.timePeriod,totalChatsAccepted:a,customMetrics:n.customMetrics}),o=o.level)Ye(o[i].onlineTime,Le,!0),Ye(o[i].offlineTime,Le,!0,!0),Ye(o[i].awayTime,Le,!0),Ye(o[i].chatAcceptTime,"average",!0);return o}function Ht(e){var t,r,n,a,o,c,s,u,l,f,p=e.metrics,d=e.statsPeriods,m=e.opts,h={},v=m.level===i;for(var T in p){var _=p[T],y=_.mn;if(v)h[y]=Rt(_[He][0],d,m);else{t={},s=_[He];for(var O=0;O<s.length;O++){var E=s[O].tg;t[E]=[],c=s[O].values;for(var C=0;C<c.length;C++){var P;if(n=ft(d,(r=c[C]).p),a={},o="".concat(n.sd," - ").concat(n.ed),u=st(r.vs,n.st,n.et),y===X)a[o]=(Et(P={average:u/(r.vs/r.av),total:u},"vs",r.vs),Et(P,"av",r.av),P);else a[o]=y===$?{average:r.av,total:r.vs}:{average:u/(r.vs/r.av),total:u};t[E].push(a)}}h[y]=t}}if(h[X]){for(var g in h[$]=h[$]||{},h[X])for(var A=h[X][g],S=h[$][g]||[],R=0;R<A.length;R++)o=Object.keys(A[R])[0],(l=S.find((function(e){return Object.keys(e)[0]===o}))||{})[o]=l[o]||{total:0},f=(u=(u=A[R][o][Le]-l[o][Le])>0?u:0)/(A[R][o].vs/A[R][o].av),A[R][o]={average:f,total:u};delete h[$]}for(var b in Ge(h,m),h){h[De(b)]=h[b],delete h[b]}return ct(h,m)}function Lt(e){var t=Pt({metrics:e.metrics,statsPeriods:e.statsPeriods,opts:_t(_t({},e.opts),{},{isShouldAddTotals:!0})}),r={};for(var n in t){var a=t[n],o=0;if(a.total)o=a.total;else for(var i in a)o+=a[i][Le];r[n]=o}return r}function Ut(e){function t(e,t,r,n,a,o,i){var c=e+(t&r|~t&n)+(a>>>0)+i;return(c<<o|c>>>32-o)+t}function r(e,t,r,n,a,o,i){var c=e+(t&n|r&~n)+(a>>>0)+i;return(c<<o|c>>>32-o)+t}function n(e,t,r,n,a,o,i){var c=e+(t^r^n)+(a>>>0)+i;return(c<<o|c>>>32-o)+t}function a(e,t,r,n,a,o,i){var c=e+(r^(t|~n))+(a>>>0)+i;return(c<<o|c>>>32-o)+t}function o(e){return String.fromCharCode(255&e)}function i(e){return o(e)+o(e>>>8)+o(e>>>16)+o(e>>>24)}var c;return(c=e,function(e){for(var o=function(e){for(var t=e.length,r=t<<3,n=new Uint32Array(t+72>>>6<<4),a=0,o=e.length;a<o;++a)n[a>>>2]|=e.charCodeAt(a)<<((3&a)<<3);return n[t>>2]|=128<<(31&r),n[n.length-2]=r,n}(e),c=1732584193,s=4023233417,u=2562383102,l=271733878,f=0,p=o.length;f<p;f+=16){var d=c,m=s,h=u,v=l;c=t(c,s,u,l,o[f+0],7,3614090360),l=t(l,c,s,u,o[f+1],12,3905402710),u=t(u,l,c,s,o[f+2],17,606105819),s=t(s,u,l,c,o[f+3],22,3250441966),c=t(c,s,u,l,o[f+4],7,4118548399),l=t(l,c,s,u,o[f+5],12,1200080426),u=t(u,l,c,s,o[f+6],17,2821735955),s=t(s,u,l,c,o[f+7],22,4249261313),c=t(c,s,u,l,o[f+8],7,1770035416),l=t(l,c,s,u,o[f+9],12,2336552879),u=t(u,l,c,s,o[f+10],17,4294925233),s=t(s,u,l,c,o[f+11],22,2304563134),c=t(c,s,u,l,o[f+12],7,1804603682),l=t(l,c,s,u,o[f+13],12,4254626195),u=t(u,l,c,s,o[f+14],17,2792965006),c=r(c,s=t(s,u,l,c,o[f+15],22,1236535329),u,l,o[f+1],5,4129170786),l=r(l,c,s,u,o[f+6],9,3225465664),u=r(u,l,c,s,o[f+11],14,643717713),s=r(s,u,l,c,o[f+0],20,3921069994),c=r(c,s,u,l,o[f+5],5,3593408605),l=r(l,c,s,u,o[f+10],9,38016083),u=r(u,l,c,s,o[f+15],14,3634488961),s=r(s,u,l,c,o[f+4],20,3889429448),c=r(c,s,u,l,o[f+9],5,568446438),l=r(l,c,s,u,o[f+14],9,3275163606),u=r(u,l,c,s,o[f+3],14,4107603335),s=r(s,u,l,c,o[f+8],20,1163531501),c=r(c,s,u,l,o[f+13],5,2850285829),l=r(l,c,s,u,o[f+2],9,4243563512),u=r(u,l,c,s,o[f+7],14,1735328473),c=n(c,s=r(s,u,l,c,o[f+12],20,2368359562),u,l,o[f+5],4,4294588738),l=n(l,c,s,u,o[f+8],11,2272392833),u=n(u,l,c,s,o[f+11],16,1839030562),s=n(s,u,l,c,o[f+14],23,4259657740),c=n(c,s,u,l,o[f+1],4,2763975236),l=n(l,c,s,u,o[f+4],11,1272893353),u=n(u,l,c,s,o[f+7],16,4139469664),s=n(s,u,l,c,o[f+10],23,3200236656),c=n(c,s,u,l,o[f+13],4,681279174),l=n(l,c,s,u,o[f+0],11,3936430074),u=n(u,l,c,s,o[f+3],16,3572445317),s=n(s,u,l,c,o[f+6],23,76029189),c=n(c,s,u,l,o[f+9],4,3654602809),l=n(l,c,s,u,o[f+12],11,3873151461),u=n(u,l,c,s,o[f+15],16,530742520),c=a(c,s=n(s,u,l,c,o[f+2],23,3299628645),u,l,o[f+0],6,4096336452),l=a(l,c,s,u,o[f+7],10,1126891415),u=a(u,l,c,s,o[f+14],15,2878612391),s=a(s,u,l,c,o[f+5],21,4237533241),c=a(c,s,u,l,o[f+12],6,1700485571),l=a(l,c,s,u,o[f+3],10,2399980690),u=a(u,l,c,s,o[f+10],15,4293915773),s=a(s,u,l,c,o[f+1],21,2240044497),c=a(c,s,u,l,o[f+8],6,1873313359),l=a(l,c,s,u,o[f+15],10,4264355552),u=a(u,l,c,s,o[f+6],15,2734768916),s=a(s,u,l,c,o[f+13],21,1309151649),c=a(c,s,u,l,o[f+4],6,4149444226),l=a(l,c,s,u,o[f+11],10,3174756917),u=a(u,l,c,s,o[f+2],15,718787259),s=a(s,u,l,c,o[f+9],21,3951481745),c=c+d>>>0,s=s+m>>>0,u=u+h>>>0,l=l+v>>>0}var T=new String(i(c)+i(s)+i(u)+i(l));return T.toHex=function(){for(var e="",t=0,r=T.length;t<r;++t)e+=(256+(255&T.charCodeAt(t))).toString(16).substr(-2);return e},T}(function(e){return unescape(encodeURIComponent(e))}(c))).toHex()}function Ft(e){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(r),!0).forEach((function(t){Vt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wt(n.key),n)}}function Vt(e,t,r){return(t=Wt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wt(e){var t=function(e,t){if("object"!==Ft(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Ft(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ft(t)?t:String(t)}var Jt=function(){function e(t,r,i){var c,B,G,V,W,x,Y,De,Me,Ie,je,He,Le,Ue,Fe,ke,qe,Be,Je,xe,Ye,Ke=this,Ze=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Bt(this,e),Vt(this,"_standardRequest",(function(e,t){return function(r,n){return Ke._retrieveDataByMetrics({metricsGroups:[{metrics:e}],callback:r,opts:qt(qt({},t),{},{timePeriod:n})})}})),Vt(this,"_requestWithLevel",(function(e,t){return function(r,n,a){return Ke._retrieveDataByMetrics({metricsGroups:[{metrics:e}],callback:n,opts:qt(qt({},t),{},{timePeriod:a,level:r})})}})),Vt(this,"_retrieveDataByMetrics",(function(e){var t=e.metricsGroups,r=e.callback,n=e.opts;n.level&&(n.level=Ve(n.level)),n.customParserName&&(n.customParser=Ke.getParserByName(n.customParserName)),t.forEach((function(e,r){var a=e.metrics,o=e.opts,i=n.level;o&&(o.level&&(o.level=Ve(o.level),i=o.level),o.customParserName&&(o.customParser=Ke.getParserByName(o.customParserName))),i&&(t[r].metrics=We(i,a))})),t.forEach((function(e,r){var n=e.metrics;t[r].metrics=tt(n)})),Qe(r,"FUNCTION"),n.customParser&&Qe(n.customParser,"FUNCTION"),n.postParser&&Qe(n.postParser,"FUNCTION");var a=we(6),o=Ke._buildURL(t,a,n.isWebsitesStats,n.timePeriod);return Ke._createJSONPhandler(a),Ke._makeJSONPrequest(o,a,(function(){var e=Ke.rawResponses[a];n.timePeriod=n.timePeriod||Ke.getTimePeriod(),e.error?e={error:e.error,message:e.errorDescription,httpStatus:e.httpStatus}:(Ke.timeZone=e.statisticsPool.accountInfo.timeZone,Ke.callDistributionMode=e.statisticsPool.accountInfo.callDistributionMode,localStorage.setItem("ps_timezone",Ke.timeZone),e=e.statisticsPool.statsPeriods.length?Ct(e,t,n):{noStats:!0,message:"No statistics for this time period: ".concat(n.timePeriod.startDate," - ").concat(n.timePeriod.endDate),startDate:new Date(n.timePeriod.startDate),endDate:new Date(n.timePeriod.endDate)}),delete Ke.rawResponses[a],delete window["_psHandleStatsResponse_".concat(a)],r(e)})),function(){var e=document.getElementById("ps_stats_".concat(a));return!!e&&(e.onload=function(){delete window["_psHandleStatsResponse_".concat(a)]},e.parentNode.removeChild(e),!0)}})),Vt(this,"_buildURL",(function(e,t,r,n){var a,o,i,c="https://stats-".concat(r?"websites-":"","api.providesupport.com/api/v1/get-statistics/providesupport/").concat(Ke.accountName,"?access_token=").concat(Ke.md5Password),s=rt(e);if(n)Xe(n),n.startDate=et(n.startDate),n.endDate=et(n.endDate),a="".concat(n.duration,"&start-date=").concat(n.startDate.replace(/ /g,"%20"),"&end-date=").concat(n.endDate.replace(/ /g,"%20"));else{if("Time period is undefined!"===Ke.getTimePeriod())throw new Error("You need to set time period via 'setTimePeriod' method or by passing time period object on method call!");o=et(Ke.startDate),i=et(Ke.endDate),a="".concat(Ke.duration,"&start-date=").concat(o.replace(/ /g,"%20"),"&end-date=").concat(i.replace(/ /g,"%20"))}return c+"".concat("&timezone=ACCOUNT&metric-names=").concat(s,"&duration-names=").concat(a,"&callback=_psHandleStatsResponse_").concat(t)})),Vt(this,"_createJSONPhandler",(function(e){var t="_psHandleStatsResponse_".concat(e);window[t]=function(t){Ke.rawResponses[e]=t}})),Vt(this,"_makeJSONPrequest",(function(e,t,r){var n=document.createElement("script");n.id="ps_stats_".concat(t),n.src=e,n.onload=function(e){r(),e.target.parentNode.removeChild(e.target)},document.body.appendChild(n)})),Vt(this,"setTimePeriod",(function(e){Xe(e),Ke.duration=e.duration,Ke.startDate=e.startDate,Ke.endDate=e.endDate})),Vt(this,"getTimePeriod",(function(){return Ke.startDate&&Ke.endDate&&Ke.duration?{startDate:Ke.startDate,endDate:Ke.endDate,duration:Ke.duration}:"Time period is undefined!"})),Vt(this,"getControlPanelLoginCount",this._standardRequest(s)),Vt(this,"getWebAgentAppLoginCount",this._standardRequest(u)),Vt(this,"getPreChatSurveyLoadCount",this._standardRequest(l)),Vt(this,"getOfflineFormLoadCount",this._standardRequest(f)),Vt(this,"getPreChatSurveyReferrers",this._standardRequest(p)),Vt(this,"getOfflineFormReferrers",this._standardRequest(d)),Vt(this,"getPreChatSurveySubmitCount",this._standardRequest(m)),Vt(this,"getOfflineMessageSubmitCount",this._standardRequest(h)),Vt(this,"getVisitorMessagesCount",this._standardRequest(L)),Vt(this,"getPreChatSurveyFilloutTime",this._standardRequest(A,{postParser:Ge})),Vt(this,"getOfflineFormFilloutTime",this._standardRequest(S,{postParser:Ge})),Vt(this,"getSentProactiveChatsCount",this._requestWithLevel([v,T,_])),Vt(this,"getAcceptedProactiveChatsCount",this._requestWithLevel([y,O,E])),Vt(this,"getDeclinedProactiveChatsCount",this._requestWithLevel([C,P,g])),Vt(this,"getReceivedChatsCount",this._requestWithLevel([R,b,N])),Vt(this,"getAcceptedChatsCount",this._requestWithLevel([D,M,I])),Vt(this,"getMissedChatsCount",this._requestWithLevel([w,j,H])),Vt(this,"getOperatorMessagesCount",this._requestWithLevel([F,k,q])),Vt(this,"getChatAcceptDelay",this._requestWithLevel([K,Z,z],{postParser:Ge})),Vt(this,"getOnlineTime",this._requestWithLevel([Q,X,ee],{postParser:Ge})),Vt(this,"getOperatorsAwayTime",this._standardRequest($,{postParser:Ge})),Vt(this,"getOfflineTime",this._requestWithLevel([Q,[X,$],ee],{reverse:!0,customParser:Ht,isRemove1NestingLevel:!1})),Vt(this,"getPostChatSurveySummary",this._requestWithLevel([(c={},Vt(c,te,"proficiency"),Vt(c,re,"politeness"),Vt(c,ne,"caseSolved"),Vt(c,ae,"caseNotSolved"),Vt(c,oe,"contented"),Vt(c,ie,"notContented"),c),(B={},Vt(B,ce,"proficiency"),Vt(B,se,"politeness"),Vt(B,ue,"caseSolved"),Vt(B,le,"caseNotSolved"),Vt(B,fe,"contented"),Vt(B,pe,"notContented"),B),(G={},Vt(G,de,"proficiency"),Vt(G,me,"politeness"),Vt(G,he,"caseSolved"),Vt(G,ve,"caseNotSolved"),Vt(G,Te,"contented"),Vt(G,_e,"notContented"),G)],{customParser:bt})),Vt(this,"getChatsSummary",this._requestWithLevel([(V={},Vt(V,R,"sent"),Vt(V,D,"accepted"),Vt(V,w,"missed"),Vt(V,ye,"acceptanceRate"),V),(W={},Vt(W,b,"sent"),Vt(W,M,"accepted"),Vt(W,j,"missed"),Vt(W,Oe,"acceptanceRate"),W),(x={},Vt(x,N,"sent"),Vt(x,I,"accepted"),Vt(x,H,"missed"),Vt(x,Ee,"acceptanceRate"),x)],{customParser:bt})),Vt(this,"getProactiveChatsSummary",this._requestWithLevel([(Y={},Vt(Y,v,"sent"),Vt(Y,y,"accepted"),Vt(Y,C,"declined"),Vt(Y,Ce,"acceptanceRate"),Y),(De={},Vt(De,T,"sent"),Vt(De,O,"accepted"),Vt(De,P,"declined"),De),(Me={},Vt(Me,_,"sent"),Vt(Me,E,"accepted"),Vt(Me,g,"declined"),Me)],{customParser:bt,customMetrics:[{name:"acceptanceRate",propsToCalculate:["sent","accepted"]}]})),Vt(this,"getPreChatSurveySummary",this._standardRequest((Vt(Ie={},l,"loads"),Vt(Ie,m,"submits"),Vt(Ie,p,"referrers"),Vt(Ie,Pe,"clickThroughRate"),Ie),{customParser:Nt})),Vt(this,"getOfflineFormSummary",this._standardRequest((Vt(je={},f,"loads"),Vt(je,h,"submits"),Vt(je,d,"referrers"),Vt(je,ge,"clickThroughRate"),je),{customParser:Nt})),Vt(this,"getAccountSummary",this._standardRequest((Vt(He={},Q,"onlinePresence-chatOnlineTime"),Vt(He,K,"averages-chatAcceptTime"),Vt(He,A,"averages-preChatSurveyFilloutTime"),Vt(He,S,"averages-offlineFormFilloutTime"),Vt(He,L,"averages-visitorMessagesPerChat"),Vt(He,F,"averages-operatorMessagesPerChat"),Vt(He,J,"averages-operatorResponseTime"),Vt(He,U,"averages-visitorResponseTime"),Vt(He,l,"preChatSurvey-loads"),Vt(He,m,"preChatSurvey-submits"),Vt(He,Pe,"preChatSurvey-clickThroughRate"),Vt(He,p,"preChatSurvey-referrers"),Vt(He,f,"offlineForm-loads"),Vt(He,h,"offlineForm-submits"),Vt(He,ge,"offlineForm-clickThroughRate"),Vt(He,d,"offlineForm-referrers"),Vt(He,R,"chats-sent"),Vt(He,D,"chats-accepted"),Vt(He,ye,"chats-acceptanceRate"),Vt(He,w,"chats-missed"),Vt(He,v,"proactiveChats-sent"),Vt(He,y,"proactiveChats-accepted"),Vt(He,Ce,"proactiveChats-acceptanceRate"),Vt(He,C,"proactiveChats-declined"),Vt(He,te,"postChatSurvey-proficiency"),Vt(He,re,"postChatSurvey-politeness"),Vt(He,ne,"postChatSurvey-caseSolved"),Vt(He,ae,"postChatSurvey-caseNotSolved"),Vt(He,oe,"postChatSurvey-contented"),Vt(He,ie,"postChatSurvey-notContented"),He),{customParser:Mt})),Vt(this,"getAccountTimeline",this._standardRequest((Vt(Le={},Q,"onlinePresence-chatOnlineTime"),Vt(Le,K,"averages-chatAcceptTime"),Vt(Le,A,"averages-preChatSurveyFilloutTime"),Vt(Le,S,"averages-offlineFormFilloutTime"),Vt(Le,L,"averages-visitorMessagesPerChat"),Vt(Le,F,"averages-operatorMessagesPerChat"),Vt(Le,J,"averages-operatorResponseTime"),Vt(Le,U,"averages-visitorResponseTime"),Vt(Le,l,"preChatSurvey-loads"),Vt(Le,m,"preChatSurvey-submits"),Vt(Le,Pe,"preChatSurvey-clickThroughRate"),Vt(Le,p,"preChatSurvey-referrers"),Vt(Le,f,"offlineForm-loads"),Vt(Le,h,"offlineForm-submits"),Vt(Le,ge,"offlineForm-clickThroughRate"),Vt(Le,d,"offlineForm-referrers"),Vt(Le,R,"chats-sent"),Vt(Le,D,"chats-accepted"),Vt(Le,ye,"chats-acceptanceRate"),Vt(Le,w,"chats-missed"),Vt(Le,v,"proactiveChats-sent"),Vt(Le,y,"proactiveChats-accepted"),Vt(Le,Ce,"proactiveChats-acceptanceRate"),Vt(Le,C,"proactiveChats-declined"),Vt(Le,te,"postChatSurvey-proficiency"),Vt(Le,re,"postChatSurvey-politeness"),Vt(Le,ne,"postChatSurvey-caseSolved"),Vt(Le,ae,"postChatSurvey-caseNotSolved"),Vt(Le,oe,"postChatSurvey-contented"),Vt(Le,ie,"postChatSurvey-notContented"),Le),{customParser:It,isShouldAddTotals:!0})),Vt(this,"getOperatorsSummary",this._standardRequest((Vt(Ue={},b,"chatsSent"),Vt(Ue,M,"chatsAccepted"),Vt(Ue,Oe,"acceptanceRate"),Vt(Ue,j,"chatsMissed"),Vt(Ue,Z,"chatAcceptTime"),Vt(Ue,T,"proactiveChatsSent"),Vt(Ue,O,"proactiveChatsAccepted"),Vt(Ue,P,"proactiveChatsDeclined"),Vt(Ue,X,"onlineTime"),Vt(Ue,$,"awayTime"),Vt(Ue,ce,"proficiency"),Vt(Ue,se,"politeness"),Vt(Ue,ue,"casesSolved"),Vt(Ue,le,"unsolvedCases"),Vt(Ue,fe,"contented"),Vt(Ue,pe,"notContented"),Vt(Ue,Ae,"loadRate"),Ue),{customParser:wt,customMetrics:[{name:"offlineTime",type:"OFFLINE_TIME"},{name:"login",type:"OP_LOGIN"},{name:"name",type:"OP_NAME"}]})),Vt(this,"getOperatorsTimeline",this._standardRequest((Vt(Fe={},b,"chatsSent"),Vt(Fe,M,"chatsAccepted"),Vt(Fe,Oe,"acceptanceRate"),Vt(Fe,j,"chatsMissed"),Vt(Fe,Z,"chatAcceptTime"),Vt(Fe,T,"proactiveChatsSent"),Vt(Fe,O,"proactiveChatsAccepted"),Vt(Fe,P,"proactiveChatsDeclined"),Vt(Fe,X,"onlineTime"),Vt(Fe,$,"awayTime"),Vt(Fe,ce,"proficiency"),Vt(Fe,se,"politeness"),Vt(Fe,ue,"casesSolved"),Vt(Fe,le,"unsolvedCases"),Vt(Fe,fe,"contented"),Vt(Fe,pe,"notContented"),Vt(Fe,Ae,"loadRate"),Fe),{customParser:jt,customMetrics:[{name:"offlineTime",type:"OFFLINE_TIME_BY_PERIODS"},{name:"login",type:"OP_LOGIN"},{name:"name",type:"OP_NAME"}],isShouldAddTotals:!0})),Vt(this,"getDepartmentsSummary",this._standardRequest((Vt(ke={},N,"chatsSent"),Vt(ke,I,"chatsAccepted"),Vt(ke,Ee,"acceptanceRate"),Vt(ke,H,"chatsMissed"),Vt(ke,z,"chatAcceptTime"),Vt(ke,ee,"onlineTime"),Vt(ke,de,"proficiency"),Vt(ke,me,"politeness"),Vt(ke,he,"casesSolved"),Vt(ke,ve,"unsolvedCases"),Vt(ke,Te,"contented"),Vt(ke,_e,"notContented"),Vt(ke,Se,"loadRate"),ke),{customParser:wt,customMetrics:[{name:"offlineTime",type:"OFFLINE_TIME"}]})),Vt(this,"getDepartmentsTimeline",this._standardRequest((Vt(qe={},N,"chatsSent"),Vt(qe,I,"chatsAccepted"),Vt(qe,Ee,"acceptanceRate"),Vt(qe,H,"chatsMissed"),Vt(qe,z,"chatAcceptTime"),Vt(qe,ee,"onlineTime"),Vt(qe,de,"proficiency"),Vt(qe,me,"politeness"),Vt(qe,he,"casesSolved"),Vt(qe,ve,"unsolvedCases"),Vt(qe,Te,"contented"),Vt(qe,_e,"notContented"),Vt(qe,Se,"loadRate"),qe),{customParser:jt,customMetrics:[{name:"offlineTime",type:"OFFLINE_TIME_BY_PERIODS"}],isShouldAddTotals:!0})),Vt(this,"getChatReferrersSummary",this._standardRequest((Vt(Be={},p,"preChatSurveyReferrers"),Vt(Be,d,"offlineFormReferrers"),Be),{customParser:Nt})),Vt(this,"getChatReferrersTimeline",this._standardRequest((Vt(Je={},p,"preChatSurveyReferrers"),Vt(Je,d,"offlineFormReferrers"),Je),{isShouldAddTotals:!0,isShouldAddMetricTotals:!0})),Vt(this,"getWebsiteTrafficSummary",this._standardRequest((Vt(xe={},be,"visitsByURL"),Vt(xe,Re,"totalHits"),Vt(xe,Ne,"visitsByReferrer"),xe),{isWebsitesStats:!0,customParser:Dt})),Vt(this,"getWebsiteTrafficTimeline",this._standardRequest((Vt(Ye={},be,"visitsByURL"),Vt(Ye,Re,"totalHits"),Vt(Ye,Ne,"visitsByReferrer"),Ye),{isWebsitesStats:!0,isShouldAddTotals:!0})),Vt(this,"getVisitsByURL",this._standardRequest(be,{isWebsitesStats:!0})),Vt(this,"getVisitsByReferrer",this._standardRequest(Ne,{isWebsitesStats:!0})),Vt(this,"getTotalHits",this._standardRequest(Re,{isWebsitesStats:!0})),Vt(this,"getCustomMetrics",(function(e){var t=e.metricsGroups,r=e.metrics,n=e.opts,a=e.callback;r&&(t=[{metrics:r}]),Ke._retrieveDataByMetrics({metricsGroups:t,opts:n,callback:a})})),Qe(t,"STRING"),Qe(r,"STRING"),this.accountName=t,this.md5Password=Ze?r:Ut(r),this.rawResponses={},this.timeZone=null,this.callDistributionMode=null,this.METRICS=JSON.parse(JSON.stringify(n)),this.NO_STATS_MSG={NO_STATS_METRIC_MSG:a,NOT_ENOUGH_STATS_MSG:o,NO_STATS_OPERATOR_OR_DEPARTMENT_MSG:"No statistics for this operator/department!"},i&&this.setTimePeriod(i)}var t,r,i;return t=e,(r=[{key:"setMakeJSONPrequest",value:function(e){this._makeJSONPrequest=e}},{key:"getParserByName",value:function(e){return{parseRawResponse:Ct,parseSummaryDataWithLevel:bt,parseSummaryData:Nt,parseAccountSummaryData:Mt,parseAccountTimelineData:It,parseWebsiteSummaryData:Dt,parseDPsOrOPsSummaryData:wt,parseDPsOrOPsTimelineData:jt,parseOfflineTime:Ht,parseSummaryAllItems:Lt}[e]}}])&&Gt(t.prototype,r),i&&Gt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()}]).default}));